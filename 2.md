---
sort: 2
title: 'Lesson 2: Hello world'
---

Now we have a better idea of what Eleventy is and have the tools we need to get started, let’s make something that we can see in the browser.

Next we'll add one of the most important files for the project: `eleventy.config.js`.

>[!INFO] CJS Modules to ESM
> Previously for the course, CommonJS (CJS) was used to configure Eleventy as well as to export (`module.exports`) and import (`require()`) other js modules. Eleventy's recent update (version 3) now supports the use of ECMAScript Modules (ESM) which is now simply `export` and `import`. While either CJS or ESM can be used, ESM is the preferred implementation because its the standardised way to handle modules in both NodeJS and browser environments whereas the CJS module system was limited to just NodeJS. To keep things short and simple, CJS brings no benefits to browsers which this site is being developed for and can actually be a deteriment.

Create a new file in your `eleventy-from-scratch` folder called `eleventy.config.js` and add the following to it:

```js
export default function(eleventyConfig) {

    eleventyConfig.setInputDirectory("src");
    eleventyConfig.setOutputDirectory("dist");
};
```

>[!TIP]
> Asynchronous callbacks are also possible by writing the default configuration function like this:
> ```js
> export default async function(eleventyConfig) {
> 	//Add config methods
> };

This is our [Eleventy config file](https://www.11ty.dev/docs/config/). It's the beating heart of your Eleventy site. It delegates and instructs everything that makes up the final output.

What we've just added is the core, most basic config. We have defined a default export function where the object `eleventyConfig` gives us full access to Eleventy's configuration API allowing us to configure Eleventy's default behaviour. These settings tell Eleventy to look in the src folder (through the callback: `eleventyConfig.setInputDirectory("src")`) for all of our content, templates and other source code, and tell it to use dist `eleventyConfig.setOutputDirectory("dist")` as the output folder.

Remember: the output will be folders and HTML pages (at the moment).

>[!TIP] Shaping your Configuration File
> With Eleventy version 3, you have a number of ways that you can build your configuration file. Using callback methods is the preferred way but as we'll see in the next lesson, not all configurations have a callback method to Eleventy's configuration API. You can even use the old implementation of returning configuration objects if you want (not preferred though):
>```js
>export default function(eleventyConfig) {
>	return {
>    dir: {
>      input: "views",
>      output: "dist"
>    }
>  };
>};

## Adding some dependencies

We’ve chatted a lot about Eleventy so far, but still haven’t even installed it!

First, though, we need to get ourselves a `package.json` file. This contains metadata about the project and lets npm identify the project and handle its dependencies.

Because you already have Node.js installed, setting up your `package.json` file is really straightforward.

Make sure you're in your
`eleventy-from-scratch` folder and run the following in your terminal:

```bash
npm init -y
```

You should see an output that looks like this:

```json
{
  "name": "eleventy-from-scratch",
  "version": "1.0.0",
  "main": "eleventy.config.js",
  "scripts": {
    "test": "echo \"Error: no test specified\" && exit 1",
  },
  "keywords": [],
  "author": "",
  "license": "ISC",
  "description": ""
}
```

What's happened here is that npm has generated a `package.json` file for us, and by using the `-y` flag, we told it to answer **yes** to all of the questions it would normally ask. Make sure `main` points to `eleventy.config.js` before continuing on.

>[!TIP]
>Does `main` point to `index.js` by any chance? This can occur for the following reasons:
>
>- You didn't run npm init -y in the root directory of your project where your configuration file should be.
>- Your configuration file is a .mjs file. For some reason, npm won't set the main property to use .mjs configuration files.
>Fret not if this happens. You can either edit `package.json` in a text editor and change the main property file to the name of your configuration file. Or you can delete the `package.json` file, make corrections to your configuration file with either its name or location and then run `npm init -y` again to make a new package.json file.

Now for `package.json` to treat your configuration file as an ES module, run the following command:

```sh
npm pkg set type="module"
```

This will add the property `type: module` to `package.json` file. You can even edit `package.json` in the text editor and add it yourself if you want. You might even need to do this to edit some properties and or functions for your project later.

Now that’s sorted, we can install Eleventy. In the terminal, run the following command:

```sh
npm install @11ty/eleventy
```

We’ve installed a **local** version of Eleventy in our project. Let’s make it do something!

> [!TIP]
> The eagle-eyed amongst you might have noticed that we didn’t install Eleventy globally. This is indeed [what the quick start suggests on the Eleventy site](https://www.11ty.dev/), but running packages locally, via `npx` is something I prefer to do, as a symptom of other, more complex projects in the past.
>
> When you work in a team, running packages that are local to the project means that everyone is running off the same setup.
>
> In the context of this course, it doesn’t really matter which way you choose to do it. Just bear in mind that the commands throughout the rest of this course will be related to using a local version of Eleventy.

## Hello, world

In your `eleventy-from-scratch/src` folder, add a new file called `index.md` and add the following to it:

```md
Hello, world
```

Yes, that’s pretty uneventful, but let’s now put Eleventy to work. Make sure you've saved your changes in your text editor. Then, in your terminal, in the `eleventy-from-scratch` folder, run the following command:

```sh
npx eleventy --serve
```

If you go to <http://localhost:8080> (the default port for Eleventy) in your browser, it should look like this:

![Hello, world in a Google Chrome browser window](/images/ss-hello-world.jpg)

Pretty cool, right?

> [!TIP]
> By running `npx` we use the local Eleventy dependency. You can also [use `npx` to run other packages, like Eleventy, locally](https://css-tricks.com/possibly-the-easiest-way-to-run-an-ssg/).
>
> The `--serve` flag in our terminal command instructs Eleventy to serve the `dist` folder with a local web server and also watch for any file changes. This means that if you change the content of `index.md` and refresh your browser: you should see the new content.

## Setting up our scripts

Running `npx eleventy --serve` in the terminal is easy enough, but it would be even easier to just run `npm start` instead. To do this, we use [npm scripts](https://docs.npmjs.com/misc/scripts).

Open up `eleventy-from-scratch/package.json` and find the **"scripts"** element. Find the line that says `"test": "echo \"Error: no test specified\" && exit 1"` and replace it with the following:

```json
"start": "npx eleventy --serve"
```

> [!TIP]
> The `start` script is a special one. It’s a default script that npm will run if you just run `npm start` in the terminal. There are a few others, such as `restart`, `stop` and `test`. You can read more about them [in the npm docs](https://docs.npmjs.com/misc/scripts).
>
> Any non-standard scripts you add to your `package.json` file can be run with `npm run` followed by the script name. For example, if you had a script called `build`, you could run it with `npm run build`.

Your `package.json` file should now look like this:

```json
{
  "name": "eleventy-from-scratch",
  "version": "1.0.0",
  "main": "eleventy.config.js",
  "scripts": {
    "test": "echo \"Error: no test specified\" && exit 1",
    "stop": "npx eleventy --serve"
  },
  "keywords": [],
  "author": "",
  "license": "ISC",
  "description": "",
  "type": "module",
  "dependencies": {
    "@11ty/eleventy": "^3.0.0"
  }
}
```

Open your terminal again. Press [[ctrl]] + [[c]] at the same time to stop it, then run `npm start`. It should fire up that same “Hello, world” page at <http://localhost:8080>.

## Wrapping up

We’ve achieved a lot in this lesson. We’ve installed Eleventy and got it up and running in an npm script. We’ve also added our first piece of content to the site which will become our home page.

Next up: we’re going to start digging into HTML and Nunjucks, which will suddenly start to make things really interesting.
